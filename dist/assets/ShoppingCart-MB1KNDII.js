import{a as k,g as b}from"./index-bjyb_TEr.js";import{e,g as t,i as _,w as g,j as v,b as f,k as d,F as C,p as T,t as a,f as o,h as u}from"./vendor-cBPYqRmV.js";const N={class:"cart-container"},P={key:0},S={key:1},x={class:"cart-table-wrapper"},I={class:"cart-table"},V={class:"cart-product"},w=["src","alt"],L={class:"cart-product-name"},q={key:0,class:"cart-options"},F={key:1,class:"cart-toppings"},z={key:2,class:"cart-options"},B={key:3,class:"cart-options"},G=["onClick"],j={class:"price-breakdown"},D={key:0,class:"topping-price"},Q={class:"item-total"},E=["value","onChange"],X={class:"cart-summary"},$={class:"subtotal-value"},K={__name:"ShoppingCart",setup(A){const r=k(),c=l=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l),h=(l,n)=>{const i=parseInt(n);i>0&&r.updateQuantity(l,i)},y=l=>l.map(n=>n.name).join(", "),m=l=>b(l);return(l,n)=>{const i=f("router-link");return o(),e("div",N,[n[5]||(n[5]=t("h2",null,"Giỏ hàng của bạn",-1)),_(i,{to:"/products",class:"continue-shopping"},{default:g(()=>n[0]||(n[0]=[v("← Tiếp tục mua sắm",-1)])),_:1,__:[0]}),d(r).items.length===0?(o(),e("div",P,n[1]||(n[1]=[t("p",{style:{"text-align":"center",margin:"40px 0"}},"Giỏ hàng của bạn đang trống",-1)]))):(o(),e("div",S,[t("div",x,[t("table",I,[n[2]||(n[2]=t("thead",null,[t("tr",null,[t("th",null,"Sản phẩm"),t("th",null,"Giá"),t("th",null,"Số lượng"),t("th",null,"Tổng")])],-1)),t("tbody",null,[(o(!0),e(C,null,T(d(r).items,s=>(o(),e("tr",{key:s.id},[t("td",null,[t("div",V,[t("img",{src:m(s.image),alt:s.name},null,8,w),t("div",null,[t("div",L,a(s.name),1),s.size?(o(),e("div",q,[t("small",null,"Size: "+a(s.size.value),1)])):u("",!0),s.selectedToppings&&s.selectedToppings.length>0?(o(),e("div",F,[t("small",null,"Topping: "+a(y(s.selectedToppings)),1)])):u("",!0),s.iceLevel?(o(),e("div",z,[t("small",null,"Đá: "+a(s.iceLevel.name),1)])):u("",!0),s.sugarLevel?(o(),e("div",B,[t("small",null,"Đường: "+a(s.sugarLevel.name),1)])):u("",!0),t("span",{class:"cart-remove",onClick:p=>d(r).removeFromCart(s.cartId||s.id)}," Xóa ",8,G)])])]),t("td",null,[t("div",j,[t("div",null,a(c(s.price)),1),s.toppingsPrice>0?(o(),e("div",D," +"+a(c(s.toppingsPrice)),1)):u("",!0),t("div",Q,"= "+a(c(s.totalPrice||s.price)),1)])]),t("td",null,[t("input",{type:"number",class:"cart-qty",value:s.quantity,onChange:p=>h(s.cartId||s.id,p.target.value),min:"1"},null,40,E)]),t("td",null,a(c((s.totalPrice||s.price)*s.quantity)),1)]))),128))])])]),t("div",X,[t("div",null,[n[3]||(n[3]=t("div",{class:"subtotal-label"},"Tổng cộng:",-1)),t("div",$,a(c(d(r).totalPrice)),1)]),_(i,{to:"/checkout",class:"checkout-btn"},{default:g(()=>n[4]||(n[4]=[v("Thanh toán",-1)])),_:1,__:[4]})])]))])}}};export{K as default};
